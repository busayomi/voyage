<%- include('partials/header', { title: "Book Your Stay" }) %>

<section class="container mt-5 text-center">
    <h1>Book Your Stay at the Grand Horizon Suite</h1>
</section>

<section class="container booking-form mt-5 mb-5">
    <form action="/submit-booking" method="POST" class="needs-validation" novalidate>
        <!-- Prefill the Full Name and Email if the user is logged in -->
        <input type="hidden" name="suite_id" value="<%= suite.id %>">

        <div class="form-group">
            <label for="full-name">Full Name:</label>
            <input 
                type="text" 
                id="full-name" 
                name="fullName" 
                value="<%= user ? user.name : '' %>" 
                required>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter your full name.</div>
        </div>

        <div class="form-group">
            <label for="email">Email Address:</label>
            <input 
                type="email" 
                id="email" 
                name="email" 
                value="<%= user ? user.email : '' %>" 
                required>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a valid email address.</div>
        </div>

        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone" required>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a valid phone number.</div>
        </div>

        <div class="form-group">
            <label for="check-in">Check-in Date:</label>
            <input type="date" id="check-in" name="checkIn" required>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please select a date.</div>
        </div>

        <div class="form-group">
            <label for="check-out">Check-out Date:</label>
            <input type="date" id="check-out" name="checkOut" required>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please select a date.</div>
        </div>

        <div class="form-group">
            <label for="guests">Number of Guests:</label>
            <input type="number" id="guests" name="guests" min="1" max="10" required>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a valid number.</div>
        </div>

        <div class="form-group">
            <label for="special-requests">Special Requests:</label>
            <textarea id="special-requests" name="specialRequests" rows="4"></textarea>
        </div>

        <button type="submit" class="submit-btn">Book Now</button>
    </form>
</section>

<%- include('partials/footer') %>
